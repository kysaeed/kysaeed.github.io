var __keywordReplacer;$(document).ready(function(){toNumber=function(n){return n=parseInt(new String(n).replace(/,/g,"")),isNaN(n)?0:n},numberFormat=function(n){for(var t=new String(toNumber(n));t!=(t=t.replace(/^(-?\d+)(\d{3})/,"$1,$2")););return t},unitFormat=function(n,t){t=t||null;for(var e=toNumber(n),r=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"];e>1024;)e/=1024,r.shift();return e=parseInt(10*e+.5)/10,("unit"==t?"":e)+("size"==t?"":r.shift())},numberFormatJp=function(n){for(var t=["京","兆","億","万"],e=Math.pow(10,4*t.length),r=toNumber(n),o="";r>0&&t.length>0;)r>=e&&(rest=r%e,(r/=e)>0&&(o+=numberFormat(parseInt(r))+t[0]),r=rest),t.shift(),e/=Math.pow(10,4);return""==o?n:o},percentFormat=function(n,t,e,r){switch(r=r||!1,typeof n){case"string":n=new Number(n);case"number":0===n&&(t=0);break;default:return Number.NaN}("number"!=typeof t||t<0)&&(t=0),e=void 0===e||1==e;var o=n*Math.pow(10,(e?2:0)+t);return o=r?Math.floor(o):Math.round(o),o/=Math.pow(10,t),sprintf(sprintf("%%3.%df",t),o)},formatDate=function(n,t){return void 0===n?"":(t=t||"yyyy/MM/dd",null===n?n=Date.now?Date.now():+new Date:"object"==typeof n&&(n=n.toString()),$.format.date(n,t))},objectKeys=function(n){var t=[];return $.each(Object.keys(n),function(n,e){null==e.match(/^jQuery/)&&t.push(e)}),t},days=function(n){if(void 0===n||null==n||""==n)return"-";var t=new Date,e=new Date(n);return parseInt((new Date(t.getFullYear(),t.getMonth(),t.getDate())-new Date(e.getFullYear(),e.getMonth(),e.getDate()))/864e5)},weeks=function(n){if(void 0===n||null==n||""==n)return"-";var t=new Date,e=new Date(n);return parseInt((new Date(t.getFullYear(),t.getMonth(),t.getDate())-new Date(e.getFullYear(),e.getMonth(),e.getDate()))/6048e5)},months=function(n){if(void 0===n||null==n||""==n)return"-";var t=new Date,e=new Date(n);return 12*t.getFullYear()+t.getMonth()-(12*e.getFullYear()+e.getMonth())};var n=assignObjects({___yyyy___:(new Date).format("yyyy"),___mm___:(new Date).format("MM"),___dd___:(new Date).format("dd"),___dow___:(new Date).format("ddd"),___last_action_ts___:(new Date).format("yyyy-MM-dd HH:mm:ss")},__keywordReplacer||{});replaceKeyword=function(t){return n=n||{},$.each(n,function(n,e){var r=new RegExp(n,"g");t=t.replace(r,e)}),t},$.views.converters({postCheckbox:function(n){return 1==n?"1":"0"},preCheckbox:function(n){return"1"==n},preCheckboxWithValue:function(n){return n===(this.linkCtx.elem.value?this.linkCtx.elem.value:null)},postCheckboxWithValue:function(n){var t=$(this.linkCtx.elem).attr("unchecked_value")?$(this.linkCtx.elem).attr("unchecked_value"):null,e=this.linkCtx.elem.value?this.linkCtx.elem.value:null;return 1==n?e:t},toArray:function(n){return[n]},fromArray:function(n){return n[0]?n[0]:null},format:function(n){return numberFormat(n)},unitFormat:function(n,t){return unitFormat(n,t)},jformat:function(n){return numberFormatJp(n)},percent:function(n,t,e,r,o){var u=percentFormat(n,t,r,o);return void 0===e&&(e=0),isNaN(u)?e:u},ifnull:function(n,t){return""==n||null==n?t:n},ifundef:function(n,t){return void 0===n?t:n},days:function(n){return days(n)},uriencode:function(n){return void 0!=n?encodeURIComponent(String(n)):null===n?n:""},uridecode:function(n){return void 0!=n?decodeURIComponent(String(n).replace(/\+/g," ")):null===n?n:""},formatDate:function(n,t){return formatDate(n,t)},noimage:function(n,t){return t=t||"noimage",void 0!==n&&null!==n&&""!==n&&n.match(/^(https?:)?\/\//)||(n="/report/img/"+t+".png"),n},lower:function(n){return(n||"").toLowerCase()},join:function(n,t){return $.isArray(n)?n.join(t):n},toString:function(n){return n?""+n:""},replaceKeyword:function(n){return replaceKeyword(n)}}),$.views.helpers({unitFormat:function(n){return unitFormat(n)},toInt:function(n){return toNumber(n)},getLabel:function(n,t){return(t=$("select[name="+n+'] option[value="'+t+'"]').text())||"-"},buildTitle:function(n,t,e,r){r=r||"選択してください";var o=[];return t=t||{},$.isArray(n)||(n=[n]),$.each(n,function(n,r){var u=t[r];void 0!==u&&void 0!==e&&void 0!==u[e]&&(u=u[e]),void 0!==u&&(u.custom_segment_name?o.push('<span class="public_flag'+u.public_flag+'"></span>'+u.custom_segment_name):o.push(u))}),0===o.length&&o.push(r),o.join('<span class="text-size-12 gray b">&nbsp;&nbsp;or&nbsp;&nbsp;</span>')},buildTitleFromList:function(n,t,e){e=e||"選択してください";var r=[],o=$("#"+t);(void 0===t||0==o.length)&&this._lc&&this._lc.elem&&(o=$(this._lc.elem).parents(".dropdown"));var u=o.find("ul.dropdown-menu").children("li");return $(u).each(function(t,e){var o=$(e).children("a");o.attr("value")==n&&r.push(o.text())}),0===r.length&&r.push(e),r.join('<span class="text-size-12 gray b">&nbsp;&nbsp;or&nbsp;&nbsp;</span>')},getAttrFromList:function(n,t,e){var r=[],o=$("#"+t);void 0===t&&(o=$(this._lc.elem).parents(".dropdown"));var u=o.find("ul.dropdown-menu").children("li");return $(u).each(function(t,o){var u=$(o).children("a");u.attr(e)==n&&r.push(u.attr(e))}),r.join(", ")},isChecked:function(n,t){var e=!1;return $.isArray(t)||(t=[t]),$.each(t,function(t,r){if(r==n)return e=!0,!1}),e},getLocaleDateString:function(n){return void 0===n&&(n=new Date),n.toLocaleDateString()},findSearchType:function(n,t){return t.options[n]?t.options[n].search_type:null},uriencode:function(n){return void 0!=n?encodeURIComponent(String(n)):null===n?n:""},uridecode:function(n){return void 0!=n?decodeURIComponent(String(n)):null===n?n:""},in_array:function(n,t){return(n=n||[]).some(function(n,e,r){return n===t})},percentFormat:function(n,t,e,r,o){var u=percentFormat(n,t,r,o);return void 0===e&&(e=0),isNaN(u)?e:u},key_name_callback:function(n){return n},keys:function(n){return objectKeys(n)},match:function(n,t){return"string"==typeof n&&n.match(new RegExp(t))},isArray:function(n){return $.isArray(n)},isPlainObject:function(n){return $.isPlainObject(n)}}),$.views.tags({log:function(n){var t=this.props&&this.props.message||"Debug:";console.log(t,n)}})});