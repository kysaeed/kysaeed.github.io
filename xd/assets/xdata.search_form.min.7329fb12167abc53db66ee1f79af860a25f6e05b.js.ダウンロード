$(function(){$(document).off("click.jp.xdata.dropdown").off("click.jp.xdata.checklist").on("click",'.panel-body div.dropdown ul.dropdown-menu li:not(".divider"):not(".dropdown-header")',function(e){var n=$(e.currentTarget).parent(".dropdown-menu"),t=$(e.target),o=$.view(n).getIndex(),i=n.attr("name");if(void 0!==$.view(this).ctx.cond){var d=$.view(this).ctxPrm("cond").condition[o];if(void 0!==d){"category"!==i&&"key"!==i&&(d=d.condition);var r=t.attr("value");$.isArray(d[i])&&(r=[r]),$.observable(d).setProperty(i,r),e.preventDefault()}}}).on("click",'.panel-body div.dropdown.condition_category ul.dropdown-menu li:not(".divider"):not(".dropdown-header")',function(e){var n=$(e.currentTarget).parent(".dropdown-menu"),t=$.view(n).getIndex();void 0!==t&&$.view(this).ctxPrm("cond").reset(t),e.preventDefault()}).on("click",'.panel-body div.dropdown.condition_key ul.dropdown-menu li:not(".divider"):not(".dropdown-header")',function(e){var n=$(e.currentTarget).parent(".dropdown-menu"),t=$.view(n).getIndex();void 0!==t&&$.view(this).ctxPrm("cond").resetKey(t),e.preventDefault()}).on("change",".panel-body .checklist ul.dropdown-menu li input[type=checkbox]",function(e){var n=$(e.currentTarget).parents(".dropdown-menu"),t=$.view(n).getIndex(),o=[];if($(this).parents(".dropdown-menu").find("input[type=checkbox]:checked").each(function(e,n){var t=$(n);o.push(t.attr("value"))}),void 0!==t){var i=$.view(this).ctxPrm("cond").condition[t].condition.selected;$(this).parents(".condition-item").hasClass("search_type_checklist")&&(void 0===$.view(this).ctxPrm("cond").condition[t].condition.checklist&&$.observable($.view(this).ctxPrm("cond").condition[t].condition).setProperty({checklist:[]}),i=$.view(this).ctxPrm("cond").condition[t].condition.checklist),$.observable(i).refresh(o)}e.stopPropagation()}).on("click",".panel-body div.checklist ul.dropdown-menu li input[type=checkbox]",function(e){e.stopPropagation()}).on("click",'.panel-body div.dropdown.condition_selecttext ul.dropdown-menu li:not(".divider"):not(".dropdown-header")',function(e){var n=$(e.currentTarget).parent(".dropdown-menu"),t=$.view(n).getIndex();void 0!==t&&$.view(this).ctxPrm("cond").resetSelectText(t),e.preventDefault()})});var SearchCondition={DEFAULT_CONDITION:{category:"",key:"",error:{}},DEFAULT_CONDITION_CONDITION:{selected:[],checklist:[],text:"",match:"",not_exists:"0",from:"",to:""},DEFAULT_ERROR:{category:"",key:"",selected:"",text:"",match:"",not_exists:"",duration:""},getConditionInstance:function(){return $.extend(!0,{condition:this.getConditionConditionInstance()},this.DEFAULT_CONDITION)},getConditionConditionInstance:function(){return $.extend(!0,{},this.DEFAULT_CONDITION_CONDITION)},getErrorInstance:function(){return $.extend(!0,{},this.DEFAULT_ERROR)}};